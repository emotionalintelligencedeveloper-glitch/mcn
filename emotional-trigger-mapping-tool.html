<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Emotional Trigger Mapping Tool — Emotional Intelligence Developer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  padding:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:#f4f6f8;
  color:#222;
  line-height:1.6;
}
.wrapper{
  max-width:820px;
  margin:auto;
  padding:24px;
}
.card{
  background:#fff;
  border-radius:14px;
  padding:26px;
  margin-bottom:28px;
  box-shadow:0 10px 28px rgba(0,0,0,0.06);
}
h1{font-size:28px;margin:0 0 10px}
h2{font-size:20px;margin:0 0 12px}
label{
  display:block;
  font-weight:600;
  margin-top:20px;
}
textarea, select{
  width:100%;
  margin-top:8px;
  padding:12px;
  border-radius:8px;
  border:1px solid #ccc;
  font-size:15px;
  resize:vertical;
}
button{
  margin-top:22px;
  padding:14px 22px;
  font-size:16px;
  border-radius:10px;
  border:none;
  cursor:pointer;
}
.primary{background:#2a7de1;color:#fff}
.secondary{background:#e6ecf2;color:#222;margin-left:10px}
#feedbackBox{
  display:none;
  background:#eef3f7;
  border-radius:14px;
  padding:22px;
  margin-top:28px;
}
.footer{
  text-align:center;
  font-size:13px;
  color:#666;
  margin-top:40px;
}
.download{
  margin-top:18px;
  padding:14px 22px;
  border-radius:10px;
  background:#10b981;
  color:#fff;
  font-weight:700;
  cursor:pointer;
}
</style>
</head>

<body>
<div class="wrapper">

<div class="card">
  <h1>Emotional Trigger Mapping Tool</h1>
  <p>
    This tool helps you slow down emotional reactions, understand what triggered them,
    and respond with awareness instead of self-criticism.
  </p>
</div>

<div class="card">
  <h2>Step 1 — Pause and reflect</h2>

  <label>What happened just before the reaction?</label>
  <textarea id="situation" rows="4"></textarea>

  <label>What emotion felt strongest?</label>
  <select id="emotion">
    <option value="">Select one</option>
    <option>Anger</option>
    <option>Fear</option>
    <option>Sadness</option>
    <option>Shame</option>
    <option>Overwhelm</option>
    <option>Numbness</option>
  </select>

  <label>Where did you feel this in your body?</label>
  <textarea id="body" rows="3"></textarea>

  <label>What thought appeared immediately?</label>
  <textarea id="thought" rows="3"></textarea>

  <button class="primary" onclick="generateFeedback()">Generate Insight</button>
  <button class="secondary" onclick="resetTool()">Reset</button>
</div>

<div id="feedbackBox" class="card">
  <h2>Your Emotional Insight</h2>
  <p id="feedbackText"></p>
  <button class="download" onclick="downloadPDF()">Download Reflection (PDF)</button>
</div>

<div class="footer">
  Created by Emotional Intelligence Developer — https://emotionalintelligencedeveloper.com/
</div>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
const { jsPDF } = window.jspdf;

function generateFeedback(){
  const emotion = document.getElementById("emotion").value;
  if(!emotion){ alert("Please select an emotion."); return; }

  let feedback = "";
  switch(emotion){
    case "Anger":
      feedback = "Anger often signals a crossed boundary. Pause your body before responding — slowing your breath helps you regain choice.";
      break;
    case "Fear":
      feedback = "Fear reflects perceived danger, not always real danger. Ground yourself by noticing where you are and what is safe right now.";
      break;
    case "Sadness":
      feedback = "Sadness asks for gentleness, not fixing. Let the feeling exist without judging it.";
      break;
    case "Shame":
      feedback = "Shame grows in silence. This reaction does not define your worth or identity.";
      break;
    case "Overwhelm":
      feedback = "Overwhelm means your system needs fewer demands. Focus on one small controllable step.";
      break;
    case "Numbness":
      feedback = "Numbness can be protective. Gentle movement or physical sensation can help you reconnect safely.";
      break;
  }

  document.getElementById("feedbackText").innerText = feedback;
  document.getElementById("feedbackBox").style.display = "block";
}

function resetTool(){
  ["situation","emotion","body","thought"].forEach(id=>{
    document.getElementById(id).value="";
  });
  document.getElementById("feedbackBox").style.display="none";
}

function downloadPDF(){
  const doc = new jsPDF({unit:"pt",format:"a4"});
  let y=50,left=40,max=515;

  doc.setFontSize(11);
  doc.text("https://emotionalintelligencedeveloper.com/", left, 30);

  doc.setFontSize(18);
  doc.text("Emotional Trigger Mapping Reflection", left, y); y+=28;

  const sections=[
    ["What happened:", situation.value],
    ["Emotion felt:", emotion.value],
    ["Body sensation:", body.value],
    ["Immediate thought:", thought.value],
    ["Guidance:", feedbackText.innerText]
  ];

  doc.setFontSize(11);
  sections.forEach(sec=>{
    doc.text(sec[0], left, y); y+=16;
    doc.text(doc.splitTextToSize(sec[1]||"(not written)",max), left+10, y);
    y+=30;
  });

  doc.setFontSize(10);
  doc.text(
    "Created by Emotional Intelligence Developer — https://emotionalintelligencedeveloper.com/",
    left,
    800
  );

  doc.save("emotional-trigger-mapping-reflection.pdf");
}
</script>
</body>
</html>
