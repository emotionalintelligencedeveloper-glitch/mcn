<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Emotional Trigger Mapping Tool</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  padding:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:#f4f6f8;
  color:#222;
}
.wrapper{max-width:820px;margin:auto;padding:24px}
.card{
  background:#fff;
  border-radius:12px;
  padding:26px;
  margin-bottom:26px;
  box-shadow:0 8px 20px rgba(0,0,0,.05)
}
h1{font-size:28px;margin-bottom:10px}
h2{font-size:20px}
label{display:block;font-weight:600;margin-top:18px}
textarea,select{
  width:100%;
  margin-top:8px;
  padding:12px;
  border-radius:8px;
  border:1px solid #ccc;
  font-size:15px;
  resize:vertical
}
button{
  margin-top:22px;
  padding:14px 22px;
  font-size:16px;
  border-radius:8px;
  border:none;
  cursor:pointer
}
.primary{background:#2a7de1;color:#fff}
.secondary{background:#e6ecf2;color:#222;margin-left:10px}
#feedbackBox{
  display:none;
  background:#eef3f7;
  border-radius:10px;
  padding:22px;
  margin-top:28px
}
.ads-label{font-size:13px;color:#666;margin-top:28px}
.ads-box,.help-box{
  background:#fefce8;
  border:1px solid #facc15;
  border-radius:12px;
  padding:14px;
  margin-top:10px
}
.help-box{
  background:#ecfeff;
  border-color:#67e8f9
}
.cta-link{
  display:inline-block;
  margin-top:10px;
  padding:10px 16px;
  border-radius:8px;
  background:#f59e0b;
  color:#111;
  font-weight:700;
  text-decoration:none
}
.footer{
  text-align:center;
  font-size:13px;
  color:#666;
  margin-top:40px
}
</style>
</head>

<body>
<div class="wrapper">

<div class="card">
<h1>Emotional Trigger Mapping Tool</h1>
<p>
Slow down emotional reactions, understand what triggered them,
and respond with awareness instead of self-criticism.
</p>
</div>

<div class="card">
<h2>Reflection</h2>

<label>1) What happened just before the reaction?</label>
<textarea id="situation"></textarea>

<label>2) What emotion felt strongest?</label>
<select id="emotion">
  <option value="">Select one</option>
  <option>Anger</option>
  <option>Fear</option>
  <option>Sadness</option>
  <option>Shame</option>
  <option>Overwhelm</option>
  <option>Numbness</option>
</select>

<label>3) Where did you feel this in your body?</label>
<textarea id="body"></textarea>

<label>4) What thought immediately appeared?</label>
<textarea id="thought"></textarea>

<button class="primary" onclick="generateFeedback()">Show My Insight</button>
<button class="secondary" onclick="resetTool()">Reset</button>
</div>

<div id="feedbackBox" class="card">
<h2>Your Supportive Insight</h2>
<p id="feedbackText"></p>
<button class="primary" onclick="downloadPDF()">Download My Reflection (PDF)</button>
</div>

<p class="ads-label">Ads.</p>
<div class="ads-box">
<strong>Recommended Reading & Journals</strong>
<p>
Some links are affiliate links at no extra cost to you.
These resources support emotional awareness and healing.
</p>
<a class="cta-link"
   href="https://emotionalintelligencedeveloper.com/recommended-books/"
   target="_blank">
View Recommended Books
</a>
</div>

<div class="help-box">
<strong>Need extra support?</strong>
<p>
If emotions feel overwhelming or persistent,
you don’t have to handle them alone.
</p>
<a class="cta-link"
   href="https://emotionalintelligencedeveloper.com/help-page/"
   target="_blank">
Visit the Help Page
</a>
</div>

<div class="footer">
Created by Emotional Intelligence Developer —  
https://emotionalintelligencedeveloper.com/
</div>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
const { jsPDF } = window.jspdf;

function generateFeedback(){
  const emotion=document.getElementById("emotion").value;
  if(!emotion){alert("Please select an emotion.");return;}

  const responses={
    Anger:"Anger often signals a boundary crossing. Pause your breath before responding.",
    Fear:"Fear alerts perceived danger. Ground yourself in the present moment.",
    Sadness:"Sadness asks for gentleness, not fixing. This feeling is allowed.",
    Shame:"Shame lies about your worth. One reaction does not define you.",
    Overwhelm:"Overwhelm means your nervous system needs fewer inputs.",
    Numbness:"Numbness can be protective. Reconnect gently through physical sensation."
  };

  document.getElementById("feedbackText").innerText=responses[emotion];
  document.getElementById("feedbackBox").style.display="block";
}

function resetTool(){
  document.querySelectorAll("textarea").forEach(t=>t.value="");
  document.getElementById("emotion").value="";
  document.getElementById("feedbackBox").style.display="none";
}

function downloadPDF(){
  const doc=new jsPDF({unit:"pt",format:"a4"});
  let y=50,left=40,max=500;

  doc.setFontSize(18);
  doc.text("Emotional Trigger Mapping Tool",left,y); y+=24;

  doc.setFontSize(11);
  doc.text("By Emotional Intelligence Developer",left,y); y+=14;
  doc.text("https://emotionalintelligencedeveloper.com/",left,y); y+=28;

  doc.setFontSize(12);
  const sections=[
    ["Situation:",situation.value],
    ["Emotion:",emotion.value],
    ["Body Sensation:",body.value],
    ["Automatic Thought:",thought.value],
    ["Support Insight:",feedbackText.innerText]
  ];

  sections.forEach(s=>{
    doc.text(s[0],left,y); y+=14;
    doc.text(doc.splitTextToSize(s[1]||"(not written)",max),left+10,y);
    y+=32;
  });

  doc.setFontSize(10);
  doc.text(
    "Generated with Emotional Intelligence Developer — https://emotionalintelligencedeveloper.com/",
    left,
    800
  );

  doc.save("emotional-trigger-mapping-reflection.pdf");
}
</script>

</body>
</html>
