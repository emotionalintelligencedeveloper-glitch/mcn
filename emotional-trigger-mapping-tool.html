<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Emotional Trigger Mapping Tool — Emotional Intelligence Developer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ---------- Base ---------- */
body {
  margin: 0;
  padding: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: #f4f6f8;
  color: #222;
  line-height: 1.6;
}

.wrapper {
  max-width: 820px;
  margin: auto;
  padding: 24px;
}

.card {
  background: #ffffff;
  border-radius: 12px;
  padding: 26px;
  margin-bottom: 28px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.05);
}

h1 {
  font-size: 28px;
  margin-bottom: 10px;
}

h2 {
  font-size: 20px;
  margin-top: 0;
}

p {
  margin-top: 8px;
}

/* ---------- Inputs ---------- */
label {
  display: block;
  font-weight: 600;
  margin-top: 22px;
}

textarea, select {
  width: 100%;
  margin-top: 8px;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid #ccc;
  font-size: 15px;
  resize: vertical;
}

/* ---------- Buttons ---------- */
button {
  margin-top: 22px;
  padding: 14px 22px;
  font-size: 16px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
}

.primary {
  background: #2a7de1;
  color: #fff;
}

.secondary {
  background: #e6ecf2;
  color: #222;
  margin-left: 10px;
}

/* ---------- Feedback ---------- */
#feedbackBox {
  display: none;
  background: #eef3f7;
  border-radius: 10px;
  padding: 22px;
  margin-top: 28px;
}

/* ---------- Conversion ---------- */
.ads-label {
  font-size: 13px;
  color: #6b7280;
  margin-top: 26px;
}

.ads-box {
  background: #fefce8;
  border: 1px solid #facc15;
  border-radius: 12px;
  padding: 16px;
}

.cta-link {
  display: inline-block;
  margin-top: 12px;
  padding: 12px 18px;
  border-radius: 8px;
  background: #f59e0b;
  color: #111;
  font-weight: 700;
  text-decoration: none;
}

.help-box {
  margin-top: 18px;
  padding: 16px;
  border-radius: 12px;
  background: #ecfeff;
  border: 1px solid #67e8f9;
}

/* ---------- Footer ---------- */
.footer {
  text-align: center;
  font-size: 13px;
  color: #666;
  margin-top: 40px;
}
</style>
</head>

<body>
<div class="wrapper">

  <div class="card">
    <h1>Emotional Trigger Mapping Tool</h1>
    <p>
      This tool helps you slow down emotional reactions, understand what triggered them,
      and respond with awareness instead of self-criticism.
    </p>
  </div>

  <div class="card">
    <h2>Step 1 — Reflect</h2>

    <label>What happened just before the emotional reaction?</label>
    <textarea id="situation" rows="4"></textarea>

    <label>Which emotion felt strongest?</label>
    <select id="emotion">
      <option value="">Select one</option>
      <option>Anger</option>
      <option>Fear</option>
      <option>Sadness</option>
      <option>Shame</option>
      <option>Overwhelm</option>
      <option>Numbness</option>
    </select>

    <label>Where did you feel this in your body?</label>
    <textarea id="body" rows="3"></textarea>

    <label>What thought appeared immediately?</label>
    <textarea id="thought" rows="3"></textarea>

    <button class="primary" onclick="generateFeedback()">Generate Insight</button>
    <button class="secondary" onclick="resetTool()">Reset</button>
  </div>

  <div id="feedbackBox" class="card">
    <h2>Your Insight</h2>
    <p id="feedbackText"></p>
    <button class="primary" onclick="downloadPDF()">Download Reflection (PDF)</button>
  </div>

  <!-- ADS -->
  <p class="ads-label">Ads.</p>

  <div class="ads-box">
    <p><strong>Go deeper with emotional understanding</strong></p>
    <p>
      Many people use guided journals and books to better understand emotional triggers,
      boundaries, and self-regulation.
      Some links are affiliate links, which means we may earn a small commission
      at no extra cost to you.
    </p>

    <a class="cta-link"
       href="https://emotionalintelligencedeveloper.com/recommended-books/"
       target="_blank" rel="noopener noreferrer">
       Explore Recommended Books
    </a>
  </div>

  <div class="help-box">
    <p><strong>Need extra emotional support?</strong></p>
    <p>
      If emotional reactions feel overwhelming or confusing,
      additional support and grounding resources may help.
    </p>

    <a class="cta-link"
       href="https://emotionalintelligencedeveloper.com/help-page/"
       target="_blank" rel="noopener noreferrer">
       Visit the Help & Support Page
    </a>
  </div>

  <div class="footer">
    Created by Emotional Intelligence Developer — https://emotionalintelligencedeveloper.com/
  </div>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
const { jsPDF } = window.jspdf;

function generateFeedback() {
  const emotion = document.getElementById("emotion").value;
  let feedback = "";

  if (!emotion) {
    alert("Please select an emotion.");
    return;
  }

  const responses = {
    "Anger": "Anger often signals a boundary feeling crossed. Pause, slow your breathing, and remind yourself that you can choose your response.",
    "Fear": "Fear points to perceived danger, not always real danger. Ground yourself in the present moment.",
    "Sadness": "Sadness asks for compassion, not fixing. Let the feeling exist without judgment.",
    "Shame": "Shame convinces us we are the problem. One moment does not define your worth.",
    "Overwhelm": "Overwhelm means your nervous system needs fewer inputs. Focus on one small action.",
    "Numbness": "Numbness can be protective. Gentle movement or physical sensation can help reconnect."
  };

  feedback = responses[emotion];

  document.getElementById("feedbackText").innerText = feedback;
  document.getElementById("feedbackBox").style.display = "block";
}

function resetTool() {
  document.getElementById("situation").value = "";
  document.getElementById("emotion").value = "";
  document.getElementById("body").value = "";
  document.getElementById("thought").value = "";
  document.getElementById("feedbackBox").style.display = "none";
}

function downloadPDF() {
  const doc = new jsPDF({unit:"pt", format:"a4"});
  let y = 50;
  const left = 40;
  const maxWidth = 500;

  doc.setFontSize(14);
  doc.text("Emotional Trigger Mapping Reflection", left, y); y += 24;

  doc.setFontSize(11);
  doc.text("https://emotionalintelligencedeveloper.com/", left, y); y += 20;

  const items = [
    ["Situation:", situation.value],
    ["Emotion:", emotion.value],
    ["Body sensation:", body.value],
    ["Thought:", thought.value],
    ["Insight:", feedbackText.innerText]
  ];

  items.forEach(item => {
    doc.text(item[0], left, y); y += 14;
    doc.text(doc.splitTextToSize(item[1] || "(not written)", maxWidth), left + 10, y);
    y += 28;
  });

  doc.setFontSize(10);
  doc.text(
    "You may keep this reflection for yourself or share it with someone you trust if speaking feels difficult.",
    left,
    780
  );

  doc.save("emotional-trigger-mapping.pdf");
}
</script>

</body>
</html>
